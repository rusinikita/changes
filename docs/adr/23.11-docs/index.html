<!doctype html><html lang=en-us><head><meta charset=utf-8><title>23.11-docs | Changes</title>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="Documentation,Hugo,Hugo Theme,Bootstrap"><meta name=author content="Colin Wilson - Lotus Labs"><meta name=email content="support@aigis.uk"><meta name=website content="https://lotusdocs.dev"><meta name=Version content="v0.1.0"><link rel=icon href=https://rusinikita.github.io/changes/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://rusinikita.github.io/changes/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://rusinikita.github.io/changes/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://rusinikita.github.io/changes/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://rusinikita.github.io/changes/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://rusinikita.github.io/changes/site.webmanifest><meta property="og:title" content="23.11-docs"><meta property="og:description" content="Use cases link Landing/Motivation page Start using, tutorials Find checkers, settings and params variations Contribution guide and ADRs Structure draft link Landing page Main page (overview) How to Recommended configs Changelog Authors and dependencies settings/ checker 1 checker 2 contribution/ add new checker new functions (proposal format) ideas and feedbacks ADRs/ Tools and setup linkI very well known with Hugo and Geekdocs. But I found new beautiful doc theme - lotus."><meta property="og:type" content="article"><meta property="og:url" content="https://rusinikita.github.io/changes/docs/adr/23.11-docs/"><meta property="og:image" content="https://rusinikita.github.io/changes/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_1198927661046096844.png"><meta property="article:section" content="docs"><meta property="article:published_time" content="2023-11-25T20:34:45+02:00"><meta property="article:modified_time" content="2023-11-25T20:34:45+02:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rusinikita.github.io/changes/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_1198927661046096844.png"><meta name=twitter:title content="23.11-docs"><meta name=twitter:description content="Use cases link Landing/Motivation page Start using, tutorials Find checkers, settings and params variations Contribution guide and ADRs Structure draft link Landing page Main page (overview) How to Recommended configs Changelog Authors and dependencies settings/ checker 1 checker 2 contribution/ add new checker new functions (proposal format) ideas and feedbacks ADRs/ Tools and setup linkI very well known with Hugo and Geekdocs. But I found new beautiful doc theme - lotus."><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><script type=text/javascript src=https://rusinikita.github.io/changes/docs/js/flexsearch.bundle.min.70b92c4c5202c26b45d7aa43e130e8440032cac751b9b9206ddba2052699286ac95beb01bb7f975514cc694a019a03c8.js integrity=sha384-cLksTFICwmtF16pD4TDoRAAyysdRubkgbduiBSaZKGrJW+sBu3+XVRTMaUoBmgPI crossorigin=anonymous></script><link rel=stylesheet href=/changes/docs/scss/style.min.1da885e273ad5350badefa6ae042fc8530c679cf8e9334471d100a63ddb21b784e489463d81378bb9dc13d94a9dfac1b.css integrity=sha384-HaiF4nOtU1C63vpq4EL8hTDGec+OkzRHHRAKY92yG3hOSJRj2BN4u53BPZSp36wb crossorigin=anonymous></head><body><div class=content><div class="page-wrapper toggled"><nav id=sidebar class=sidebar-wrapper><div class=sidebar-brand><a href=/changes/ aria-label=HomePage alt=HomePage><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></a></div><div class=sidebar-content style="height:calc(100% - 131px)"><ul class=sidebar-menu><li><a class=sidebar-root-link href=https://rusinikita.github.io/changes/docs/overview/><i class="material-icons me-2">help</i>
Overview</a></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">star</i>
Configuration</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/configuration/commit/>Commit</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/configuration/functions/>Functions</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/configuration/changelog/>Changelog</a></li></ul></div></li><li><a class=sidebar-root-link href=https://rusinikita.github.io/changes/docs/mvp-usage/><i class="material-icons me-2">article</i>
Mvp Usage</a></li><li class="sidebar-dropdown current active"><button class=btn>
<i class="material-icons me-2">article</i>
ADR</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/what-is-adr/>What is ADR</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/23.10-init/>23.10-init</a></li><li class=current><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/23.11-docs/>23.11-docs</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/23.11-go-quality/>23.11-go-quality</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/23.11-git-calls/>23.11-git-calls</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/23.12-format-template/>23.12-message-format</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/23.12-check-code/>23.12-check-code</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/23.12-yaml-config/>23.12-config-file</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/24.01-scripting/>24.01-scripting</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/24.01-v1-dev-plan/>24.01-docs-and-v1</a></li><li><a class=sidebar-nested-link href=https://rusinikita.github.io/changes/docs/adr/24.02-output-message/>24.02-output-message</a></li></ul></div></li></ul></div><ul class="sidebar-footer list-unstyled mb-0"></ul></nav><main class="page-content bg-transparent"><div id=top-header class="top-header d-print-none"><div class="header-bar d-flex justify-content-between"><div class="d-flex align-items-center"><a href=/changes/ class="logo-icon me-3" aria-label=HomePage alt=HomePage><div class=small><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></div><div class=big><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></div></a><button id=close-sidebar class="btn btn-icon btn-soft">
<span class="material-icons size-20 menu-icon align-middle">menu</span>
</button>
<button id=flexsearch-button class="ms-3 btn btn-soft" data-bs-toggle=collapse data-bs-target=#FlexSearchCollapse aria-expanded=false aria-controls=FlexSearchCollapse>
<span class="material-icons size-20 menu-icon align-middle">search</span>
<span class="flexsearch-button-placeholder ms-1 me-2 d-none d-sm-block">Search</span><div class="d-none d-sm-block"><span class=flexsearch-button-keys><kbd class=flexsearch-button-cmd-key><svg width="44" height="15"><path d="M2.118 11.5A1.519 1.519.0 011 11.042 1.583 1.583.0 011 8.815a1.519 1.519.0 011.113-.458h.715V6.643h-.71A1.519 1.519.0 011 6.185 1.519 1.519.0 01.547 5.071 1.519 1.519.0 011 3.958 1.519 1.519.0 012.118 3.5a1.519 1.519.0 011.114.458A1.519 1.519.0 013.69 5.071v.715H5.4V5.071A1.564 1.564.0 016.976 3.5 1.564 1.564.0 018.547 5.071 1.564 1.564.0 016.976 6.643H6.261V8.357h.715a1.575 1.575.0 011.113 2.685 1.583 1.583.0 01-2.227.0A1.519 1.519.0 015.4 9.929V9.214H3.69v.715a1.519 1.519.0 01-.458 1.113A1.519 1.519.0 012.118 11.5zm0-.857a.714.714.0 00.715-.714V9.214H2.118a.715.715.0 100 1.429zm4.858.0a.715.715.0 100-1.429H6.261v.715a.714.714.0 00.715.714zM3.69 8.357H5.4V6.643H3.69zM2.118 5.786h.715V5.071a.714.714.0 00-.715-.714.715.715.0 00-.5 1.22A.686.686.0 002.118 5.786zm4.143.0h.715a.715.715.0 00.5-1.22.715.715.0 00-1.22.5z" fill="currentcolor"/><path d="M12.4 11.475H11.344l3.879-7.95h1.056z" fill="currentcolor"/><path d="M25.073 5.384l-.864.576a2.121 2.121.0 00-1.786-.923 2.207 2.207.0 00-2.266 2.326 2.206 2.206.0 002.266 2.325 2.1 2.1.0 001.782-.918l.84.617a3.108 3.108.0 01-2.622 1.293 3.217 3.217.0 01-3.349-3.317 3.217 3.217.0 013.349-3.317A3.046 3.046.0 0125.073 5.384z" fill="currentcolor"/><path d="M30.993 5.142h-2.07v5.419H27.891V5.142h-2.07V4.164h5.172z" fill="currentcolor"/><path d="M34.67 4.164c1.471.0 2.266.658 2.266 1.851.0 1.087-.832 1.809-2.134 1.855l2.107 2.691h-1.28L33.591 7.87H33.07v2.691H32.038v-6.4zm-1.6.969v1.8h1.572c.832.0 1.22-.3 1.22-.918s-.411-.882-1.22-.882z" fill="currentcolor"/><path d="M42.883 10.561H38.31v-6.4h1.033V9.583h3.54z" fill="currentcolor"/></svg></kbd><kbd class=flexsearch-button-key><svg width="15" height="15"><path d="M5.926 12.279H4.41L9.073 2.721H10.59z" fill="currentcolor"/></svg></kbd></span></div></button></div><div class="d-flex align-items-center"><ul class="list-unstyled mb-0"><li class="list-inline-item mb-0"><a href=https://github.com/rusinikita/changes alt=github rel="noopener noreferrer" target=_blank><div class="btn btn-icon btn-default border-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></div></a></li></ul><button id=mode class="btn btn-icon btn-default ms-2" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><title>Enable dark mode</title><path d="M24 42q-7.5.0-12.75-5.25T6 24t5.25-12.75T24 6q.4.0.85.025.45.025 1.15.075-1.8 1.6-2.8 3.95t-1 4.95q0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6.0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42zm0-3q5.45.0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75.0-9.775-4.025T19.2 15q0-1.2.25-2.575t.9-3.125q-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39zm-.2-14.85z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><title>Enable light mode</title><path d="M24 31q2.9.0 4.95-2.05T31 24t-2.05-4.95T24 17t-4.95 2.05T17 24t2.05 4.95T24 31zm0 3q-4.15.0-7.075-2.925T14 24t2.925-7.075T24 14t7.075 2.925T34 24t-2.925 7.075T24 34zM3.5 25.5q-.65.0-1.075-.425Q2 24.65 2 24t.425-1.075Q2.85 22.5 3.5 22.5h5q.65.0 1.075.425Q10 23.35 10 24t-.425 1.075T8.5 25.5zm36 0q-.65.0-1.075-.425Q38 24.65 38 24t.425-1.075T39.5 22.5h5q.65.0 1.075.425Q46 23.35 46 24t-.425 1.075-1.075.425zM24 10q-.65.0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2t1.075.425T25.5 3.5v5q0 .65-.425 1.075Q24.65 10 24 10zm0 36q-.65.0-1.075-.425T22.5 44.5v-5q0-.65.425-1.075Q23.35 38 24 38t1.075.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46zM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05.0.6-.4 1-.4.45-1.025.45T12 14.1zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45zM33.9 14.1q-.45-.45-.45-1.05.0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4t-1.075-.4zM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6.0 1.05.45.45.45.45 1.05.0.6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425zM24 24z"/></svg></span></button></div></div><div class=collapse id=FlexSearchCollapse><div class=flexsearch-container><div class=flexsearch-keymap><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd><span class=flexsearch-key-label>to navigate</span></li><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd><span class=flexsearch-key-label>to select</span></li><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd><span class=flexsearch-key-label>to close</span></li></div><form class="flexsearch position-relative flex-grow-1 ms-2 me-2"><div class="d-flex flex-row"><input id=flexsearch class=form-control type=search placeholder=Search aria-label=Search autocomplete=off>
<button id=hideFlexsearch type=button class="ms-2 btn btn-soft">
cancel</button></div><div id=suggestions class="shadow rounded-1 d-none"></div></form></div></div></div><div class=container-fluid><div class=layout-spacing><div class="d-md-flex justify-content-between align-items-center"><nav aria-label=breadcrumb class="d-inline-block pb-2 mt-1 mt-sm-0"><ul id=breadcrumbs class="breadcrumb bg-transparent mb-0" itemscope itemtype=https://schema.org/BreadcrumbList><li class="breadcrumb-item text-capitalize active" aria-current=page itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/changes/docs/><i class="material-icons size-20 align-text-bottom" itemprop=name>Home</i>
</a><meta itemprop=position content="1"></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/changes/docs/adr/><span itemprop=name>ADR</span>
</a><meta itemprop=position content="2"></li><li class="breadcrumb-item text-capitalize active" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>23.11-docs</span>
<meta itemprop=position content="3"></li></ul></nav></div><div class="row flex-xl-nowrap"><div class="docs-toc col-xl-3 d-xl-block"><toc><div class="fw-bold text-uppercase mb-2">On this page</div><nav id=TableOfContents><ul><li><a href=#use-cases>Use cases</a></li><li><a href=#structure-draft>Structure draft</a></li><li><a href=#tools-and-setup>Tools and setup</a></li><li><a href=#ci-draft>CI draft</a></li><li><a href=#main-page>Main page</a></li></ul></nav></toc></div><div class="docs-toc-mobile d-print-none d-xl-none"><button id=toc-dropdown-btn class="btn-secondary dropdown-toggle" type=button data-bs-toggle=dropdown data-bs-offset=0,0 aria-expanded=false>
Table of Contents</button><nav id=toc-mobile><ul class=dropdown-menu><li><a href=#use-cases>Use cases</a></li><li><a href=#structure-draft>Structure draft</a></li><li><a href=#tools-and-setup>Tools and setup</a></li><li><a href=#ci-draft>CI draft</a></li><li><a href=#main-page>Main page</a></li></ul></nav></div><div class="docs-content col-12 col-xl-9 mt-0"><div class="mb-0 d-flex"><i class="material-icons title-icon me-2">article</i><h1 class="content-title mb-0">23.11-docs</h1></div><p class="lead mb-3"></p><div id=content class=main-content><div data-prismjs-copy data-prismjs-copy-success data-prismjs-copy-error><h2 id=use-cases>Use cases <a href=#use-cases class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><ul><li>Landing/Motivation page</li><li>Start using, tutorials</li><li>Find checkers, settings and params variations</li><li>Contribution guide and ADRs</li></ul><h2 id=structure-draft>Structure draft <a href=#structure-draft class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><ul><li>Landing page</li><li>Main page (overview)</li><li>How to</li><li>Recommended configs</li><li>Changelog</li><li>Authors and dependencies</li><li>settings/<ul><li>checker 1</li><li>checker 2</li></ul></li><li>contribution/<ul><li>add new checker</li><li>new functions (proposal format)</li><li>ideas and feedbacks</li></ul></li><li>ADRs/</li></ul><h2 id=tools-and-setup>Tools and setup <a href=#tools-and-setup class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p>I very well known with Hugo and Geekdocs. But I found new beautiful doc theme - <a href=https://lotusdocs.dev/docs/overview/ rel=external target=_blank>lotus<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a>.</p><p>I decided to place documentation files inside repository docs folder because:</p><ul><li>It&rsquo;s easier to automate<ul><li>Single change log generation</li><li>DoD PR checks</li></ul></li><li>Projects is not a library. First priority - binary distribution. So .md files inside package is not large problem.</li></ul><p>ADR naming: yy-mm-name.md - it&rsquo;s ok if few files inside month unordered. Lotus can order pages by weight, but it&rsquo;s nice to have timeline of titles.</p><p>I have idea to make doc pages for Go code, but it&rsquo;s useless now. I&rsquo;ll do it later.</p><h2 id=ci-draft>CI draft <a href=#ci-draft class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><ul><li>Generate by hand (junk files) OR by CI (pages branch)? => default CI</li><li>PR doc page preview generation? => maybe, later</li><li>GH Pages or other => GH Pages, nikitarusin.com later</li><li>go modules or theme files or git module => go module (simpler, no junk files)</li></ul><h2 id=main-page>Main page <a href=#main-page class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p>Thesises:</p><ul><li>Goal</li><li>Status: In progress</li></ul></div></div><div><hr class=doc-hr><div id=doc-nav class=d-print-none><div class="row flex-xl-nowrap"><div class="col-sm-6 pt-2 doc-next"><a href=/changes/docs/adr/23.10-init/><div class="card h-100 my-1"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0"><i class="material-icons align-middle">navigate_before</i> 23.10-init</p></div></div></a></div><div class="col-sm-6 pt-2 doc-prev"><a class=ms-auto href=/changes/docs/adr/23.11-go-quality/><div class="card h-100 my-1 text-end"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0">23.11-go-quality <i class="material-icons align-middle">navigate_next</i></p></div></div></a></div></div></div></div></div></div></div></div><footer class="shadow py-3 d-print-none"><div class=container-fluid><div class="row align-items-center"><div class=col><div class="text-sm-start text-center mx-md-2"><p class=mb-0>© 2024 Nikita Rusin. Built with ❤️ and <a href=https://github.com/colinwilson/lotusdocs><strong>Lotus Docs</strong></a></p></div></div></div></div></footer></main></div></div><button onclick=topFunction() id=back-to-top aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12 10.224l-6.3 6.3-1.38-1.372L12 7.472l7.68 7.68-1.38 1.376z" style="fill:#fff"/></svg></button>
<script>(()=>{var e=document.getElementById("mode");e!==null&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")):(localStorage.setItem("theme","light"),document.documentElement.removeAttribute("data-dark-mode"))}),e.addEventListener("click",()=>{document.documentElement.toggleAttribute("data-dark-mode"),localStorage.setItem("theme",document.documentElement.hasAttribute("data-dark-mode")?"dark":"light")}),localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-dark-mode",""):document.documentElement.removeAttribute("data-dark-mode"))})()</script><script src=/changes/docs/js/bootstrap.437f5ca5da0b6cecae9e04d4737f6009d4d5dfaebc8e02c5bea7af57ca501a12f43d5c36bb007c5253f094be16f10b83.js integrity=sha384-Q39cpdoLbOyungTUc39gCdTV3668jgLFvqevV8pQGhL0PVw2uwB8UlPwlL4W8QuD defer></script><script type=text/javascript src=https://rusinikita.github.io/changes/docs/js/bundle.min.8f5b399ee1fb5ed1ff00765dc26658b309855e7831f49aa8120063a10c6d1318c6b1585bdca3c0447f830dd9903d82a6.js integrity=sha384-j1s5nuH7XtH/AHZdwmZYswmFXngx9JqoEgBjoQxtExjGsVhb3KPARH+DDdmQPYKm crossorigin=anonymous defer></script><script type=module>
    var suggestions = document.getElementById('suggestions');
    var search = document.getElementById('flexsearch');

    const flexsearchContainer = document.getElementById('FlexSearchCollapse');

    const hideFlexsearchBtn = document.getElementById('hideFlexsearch');

    const configObject = { toggle: false }
    const flexsearchContainerCollapse = new Collapse(flexsearchContainer, configObject) 

    if (search !== null) {
        document.addEventListener('keydown', inputFocus);
        flexsearchContainer.addEventListener('shown.bs.collapse', function () {
            search.focus();
        });
        
        var topHeader = document.getElementById("top-header");
        document.addEventListener('click', function(elem) {
            if (!flexsearchContainer.contains(elem.target) && !topHeader.contains(elem.target))
                flexsearchContainerCollapse.hide();
        });
    }

    hideFlexsearchBtn.addEventListener('click', () =>{
        flexsearchContainerCollapse.hide()
    })

    function inputFocus(e) {
        if (e.ctrlKey && e.key === '/') {
            e.preventDefault();
            flexsearchContainerCollapse.toggle();
        }
        if (e.key === 'Escape' ) {
            search.blur();
            
            flexsearchContainerCollapse.hide();
        }
    };

    document.addEventListener('click', function(event) {

    var isClickInsideElement = suggestions.contains(event.target);

    if (!isClickInsideElement) {
        suggestions.classList.add('d-none');
    }

    });

    


    document.addEventListener('keydown',suggestionFocus);

    function suggestionFocus(e) {
    const suggestionsHidden = suggestions.classList.contains('d-none');
    if (suggestionsHidden) return;

    const focusableSuggestions= [...suggestions.querySelectorAll('a')];
    if (focusableSuggestions.length === 0) return;

    const index = focusableSuggestions.indexOf(document.activeElement);

    if (e.key === "ArrowUp") {
        e.preventDefault();
        const nextIndex = index > 0 ? index - 1 : 0;
        focusableSuggestions[nextIndex].focus();
    }
    else if (e.key === "ArrowDown") {
        e.preventDefault();
        const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
        focusableSuggestions[nextIndex].focus();
    }

    }

    


    (function(){

    var index = new FlexSearch.Document({
        
        tokenize: "forward",
        minlength:  0 ,
        cache:  100 ,
        optimize:  true ,
        document: {
        id: 'id',
        store: [
            "href", "title", "description"
        ],
        index: ["title", "description", "content"]
        }
    });


    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    

    

    index.add(
            {
                id:  0 ,
                href: "\/changes\/docs\/configuration\/commit\/",
                title: "Commit",
                description: "Commit messages validation configuration.\ninfo Optional linkchanges check uses conventional commit by default.\nEmpty changes.yaml or no file - valid.\ncommit: # Commit message format for subject validation subject: '(issue): (type)? (title)' # values extracted from commit message values: issue: regexp: ^TEAM-\\d+$ Subject format linkcommit.subject - simplified regexp for subject validation.\nExamples link (!)?(type)((context))?: (title) - conventional commit with optional context and ! !feat: something fix(ci): something (issue): (title) - simple Jira/Basecamp/GitHub issue, : and title CMD-123: something #123: something (issue): (type)?",
                content: "Commit messages validation configuration.\ninfo Optional linkchanges check uses conventional commit by default.\nEmpty changes.yaml or no file - valid.\ncommit: # Commit message format for subject validation subject: '(issue): (type)? (title)' # values extracted from commit message values: issue: regexp: ^TEAM-\\d+$ Subject format linkcommit.subject - simplified regexp for subject validation.\nExamples link (!)?(type)((context))?: (title) - conventional commit with optional context and ! !feat: something fix(ci): something (issue): (title) - simple Jira/Basecamp/GitHub issue, : and title CMD-123: something #123: something (issue): (type)? (title) - previous format with optional type keyword #123: something CMD-123: Fix something Notation link () brackets - declaration for a value symbols group. Name inside brackets - value name. ? question symbol - group becomes optional. (([(^_approved_^)])) - symbols inside brackets except letters treated as not value symbols, other brackets too. Format decision record.\nValues linkValues validation customization. You can add new values or override existed.\nGoals link Split giant regexp into parts for simplicity. Commit value names used in custom validation functions and changelog generator. Defaults link values: type: allowed: [ feat, fix ] title: regexp: \"^[\\w]+$\" max-len: 20 context: regexp: \"^[a-z-_]+$\" max-len: 10 issue: regexp: \"^#\\d+$\" max-len: 5 Structure link values.{{value-name}}.alloved - list of allowed strings for this value values.{{value-name}}.max-len - length limit values.{{value-name}}.regexp - value regular expression, ^ and $ required to match full string "
            }
        );
    index.add(
            {
                id:  1 ,
                href: "\/changes\/docs\/adr\/what-is-adr\/",
                title: "What is ADR",
                description: "warning ADR is not documentation! info ADR - Architectural decision records is form of logging context and alternatives of solution design.\nIn these documents you can find answers to WHY.\nSee Red Hat article",
                content: " warning ADR is not documentation! info ADR - Architectural decision records is form of logging context and alternatives of solution design.\nIn these documents you can find answers to WHY.\nSee Red Hat article\n"
            }
        );
    index.add(
            {
                id:  2 ,
                href: "\/changes\/docs\/overview\/",
                title: "Overview",
                description: "What linkChanges helps automate code review and enforce team agreements.\nIt validates git diff with simple configuration and CEL scripting language.\ncommit: # Commit message format validation. Example - `TEAM-123: fix something` subject: '(issue): (type)? (title)' values: issue: regexp: TEAM-\\d+ check-functions: - message: use separate PRs for fixes and features # Function checks parsed commit types func: 'commits.exists(c, c.type == \"fix\") \u0026\u0026 commits.exists(c, c.type == \"feat\")' - message: page contains draft flag and will not be shown # Function checks changed files and its content func: changes.",
                content: "What linkChanges helps automate code review and enforce team agreements.\nIt validates git diff with simple configuration and CEL scripting language.\ncommit: # Commit message format validation. Example - `TEAM-123: fix something` subject: '(issue): (type)? (title)' values: issue: regexp: TEAM-\\d+ check-functions: - message: use separate PRs for fixes and features # Function checks parsed commit types func: 'commits.exists(c, c.type == \"fix\") \u0026\u0026 commits.exists(c, c.type == \"feat\")' - message: page contains draft flag and will not be shown # Function checks changed files and its content func: changes.filter(c, c.path.endsWith(\".md\") \u0026\u0026 c.chunks.exists(ch, ch.content.contains(\"draft:\")) ) Output link Changes ------- docs/content/docs/ADR/24.02-output-message.md - draft page will not be shown Commits ------- 12341324: test - type: value must be one of [fix ref feat] Independent of platform linkYou can use it locally, as a CI step and in combination with messages posting tools.\nAn github PR comment\nSee working GitHub actions configuration\nAlternatives linkDanger and conventional-changelog - great tools for JS and Ruby community.\nChanges brings advantages for other languages users:\nyaml/toml configuration familiarity and simplicity One tool to rule. Set message format and use parsed values in diff validation and changelog generation Well-designed configuration and scripting DSL Go code maintainability and execution speed Current state link warning Project in a beta test linkTutorials, footer values parsing and changelog generation in development.\nPlease provide your feedback, needs, and ideas in project issues and forum.\nSee architectural decision records for more information.\n"
            }
        );
    index.add(
            {
                id:  3 ,
                href: "\/changes\/docs\/configuration\/functions\/",
                title: "Functions",
                description: "One stop page for check-function writing. Examples linkUse separate PRs for fixes and features. Function checks parsed commit types. commits.exists(c, c.type == \"fix\") \u0026\u0026 commits.exists(c, c.type == \"feat\") Page contains draft flag and not shown. Function checks changed files and its content. changes.filter(c, c.path.endsWith(\".md\") \u0026\u0026 c.chunks.exists(ch, ch.content.contains(\"draft:\")) ) Too big file change, more than 250 added lines. Using change stats. changes.filter(change, change.path.endsWith(\".go\") \u0026\u0026 change.stats().additions \u003e 250) Commit author email. commits.filter(commit, !",
                content: "One stop page for check-function writing.\nExamples linkUse separate PRs for fixes and features. Function checks parsed commit types.\ncommits.exists(c, c.type == \"fix\") \u0026\u0026 commits.exists(c, c.type == \"feat\") Page contains draft flag and not shown. Function checks changed files and its content.\nchanges.filter(c, c.path.endsWith(\".md\") \u0026\u0026 c.chunks.exists(ch, ch.content.contains(\"draft:\")) ) Too big file change, more than 250 added lines. Using change stats.\nchanges.filter(change, change.path.endsWith(\".go\") \u0026\u0026 change.stats().additions \u003e 250) Commit author email.\ncommits.filter(commit, !commit.author.email.endsWith(\"@gmail.com\")) Values linkTop level variables accessible from CEL function.\nName Meaning Type commits Diff commits. Allows to review commit types, author, messages and other data. Commit list changes Diff file changes. Allows to review files content, new or deleted lines. Change list now Current time timestamp Types linkLanguage types linkbool, int, double, string, duration, timestamp\nContainers linklist, map\nApp types linkCommit linkGit commit data\n// Commit data type Commit struct { // Message is the commit message, contains arbitrary text. message string // Author is the original author of the commit. author Signature // Committer is the one performing the commit, might be different from Author. committer Signature // ParentsCount is count of the parent commits of the commit. parentsCount int // Commit values type string title string context string issue string // ... } info Commit values accessible by their names.\nSignature linkCommit author and committer data\n// Signature is used to identify who and when created a commit or tag. type Signature struct { // Name represents a person name. It is an arbitrary string. name string // Email is an email, but it cannot be assumed to be well-formed. email string // When is the timestamp of the signature. when time.Time } Change link // Change represents the necessary steps to transform one file into another. type Change struct { // Path is file path after change // empty if file deleted path string // PrevPath is file path before change // empty if file created // diff from Path if file renamed prevPath string // Chunks returns a slice of ordered changes to transform \"from\" File into // \"to\" File. If the file is a binary one, Chunks will be empty. chunks []Chunk } Stat linkResult of calling сhange.stats()\ntype Stat struct { additions, deletions int } Chunk link // Chunk represents a portion of a file transformation into another. type Chunk struct { // Content contains the portion of the file. type Operation // Type contains the Operation to do with this Chunk. content string } // Operation: Equal, Add, Delete notifications In progress. Chunk type field adaptation to script. Operators link Operator Meaning Example \u0026\u0026, ||, !, ==, \u003c, \u003e, -, +, /, %, * Common logic operators x / 2, a \u003c= b ?: Conditional evaluation y != 0 ? x/y : 0 [] Get child by index of key someList[0], someMap['keyName'] Functions linkCommon for most types link Function Applied to Example size string, list, map size(\"test123\"), size([1, 2, 3]) string int, double, duration, timestamp string(123) int string, double, timestamp int(\"123\") double int, string double(123) List and map tests link Function Predicate matches Example all(x, p) all list elements or map keys [3, 6, 9].all(n, (n % 3) == 0) exists(x, p) any list element or map key [3, 3, 3].exists(n, n == 3) exists_one(x, p) exactly one list element or map key [3, 6, 9].exists_one(n, n == 3) List transformations link Function Returns Example filter(x, p) Sub-list of elements [1, 2, 3].filter(i, i % 2 \u003e 0) map(x, t) New list with transformed elements [1, 2, 3].map(n, n * n) map(x, p, t) New sub-list with filtered and transformed elements [1, 2, 3].map(n, n % 2 \u003e 0, n * n) Strings link Function Returns Meaning Example startsWith bool Has prefix \"test123\".startsWith(\"test\") endsWith bool Has suffix \"123test\".endsWith(\"test\") contains bool Has sub-string \"123test\".contains(\"test\") matches bool Has regexp matches \"123test\".matches(\"^d+w+$\"), \"123test\".matches(\"w+\") duration duration Convert to duration. Supported suffixes: h, m, s, ms, ns duration(\"10h20m30s40us50ns\") timestamp timestamp Convert to time. Format RFC3339 timestamp(\"1972-01-01T10:00:20.021-05:00\") Timestamp and duration link Function Returns Applied to getMilliseconds 0-999 timestamp, duration getSeconds 0-59 timestamp, duration getMinutes 0-59 timestamp, duration getHours 0-23 timestamp, duration getDayOfWeek 0-6 timestamp getDayOfMonth 0-31 timestamp getMonth 0-11 timestamp getFullYear 0-10000 timestamp getDayOfYear 0-365 timestamp -, + timestamp timestamp +/- duration -, + duration duration +/- duration "
            }
        );
    index.add(
            {
                id:  4 ,
                href: "\/changes\/docs\/configuration\/",
                title: "Configuration",
                description: "Architecture decision records",
                content: ""
            }
        );
    index.add(
            {
                id:  5 ,
                href: "\/changes\/docs\/configuration\/changelog\/",
                title: "Changelog",
                description: " warning Sorry, changelog generation in development. Please, vote for solution. ",
                content: " warning Sorry, changelog generation in development. Please, vote for solution. "
            }
        );
    index.add(
            {
                id:  6 ,
                href: "\/changes\/docs\/mvp-usage\/",
                title: "Mvp Usage",
                description: "info Not complete and good documentation. Just reminders for first adopters. Quick support and communication in project issues. Project folder link Create .changes.yaml (or toml) file inside your repository Setup rules GitLab runner linkInstall changes on to runner machine.\ngo install github.com/rusinikita/changes/cmd/changes@570e84e Add cli call in .gitlab-ci.yaml\nchanges check GitHub link Use actions/checkout and actions/setup-go to create environment Call go run github.com/rusinikita/changes/cmd/changes check git-check: name: git-checks runs-on: ubuntu-latest steps: - uses: actions/checkout@v4 with: # skip gh merge commit from diff ref: ${{ github.",
                content: " info Not complete and good documentation. Just reminders for first adopters. Quick support and communication in project issues. Project folder link Create .changes.yaml (or toml) file inside your repository Setup rules GitLab runner linkInstall changes on to runner machine.\ngo install github.com/rusinikita/changes/cmd/changes@570e84e Add cli call in .gitlab-ci.yaml\nchanges check GitHub link Use actions/checkout and actions/setup-go to create environment Call go run github.com/rusinikita/changes/cmd/changes check git-check: name: git-checks runs-on: ubuntu-latest steps: - uses: actions/checkout@v4 with: # skip gh merge commit from diff ref: ${{ github.event.pull_request.head.sha }} fetch-depth: 0 - uses: actions/setup-go@v4 with: go-version: '1.21' - name: git-changes check run: | go run github.com/rusinikita/changes/cmd/changes check --output=git-check.md - name: post result comment if: always() # post even if previous step failed uses: thollander/actions-comment-pull-request@v2 with: filePath: git-check.md comment_tag: git-check mode: recreate create_if_not_exists: true Docker linkCreate dockerfile with this content.\nFROM golang:1.21 WORKDIR /app RUN go install github.com/rusinikita/changes/cmd/changes@570e84e LABEL authors=\"github.com/rusinikita\" CMD [\"changes\", \"check\"] Build and run image with -v .:/app\n"
            }
        );
    index.add(
            {
                id:  7 ,
                href: "\/changes\/docs\/adr\/23.10-init\/",
                title: "23.10-init",
                description: "Initial project decisions",
                content: " warning Disclaimer: This ADR is not intended to be project introduction. Project goal link Simple cli tool for PR validation automation Become simpler to integrate, well documented and faster alternative to Danger Context linkCommit history linkCommit messages quality matters\nExamples:\nMessage format checks Issue actual status check Change log generation Author email domain PR changes linkSimple automation using changes info can encourage developers to spend little time now to save more time on code review and tech debt in future.\nExamples:\nConfig files editor whitelist Whitelist libraries Is docs edited with code Danger linkDanger is a great project for PR automation. But I think it’s overcomplicated.\nI can do alternative with:\nMore friendly documentation site Yaml/Toml configuration with batteries included checks for easy start Config UX is similar to linters and other tools No Ruby/JS knowledge required Validation and type-safety =\u003e config autoupdate Faster computation by Go multithreading and go-git Plain text output Simpler Can be used with other tools (post Slack or PR message) Conventional commits linkIs great way of declare changes. It goes with commitlint and changelog tool. But i think It can be single tool with more customisation for easy integration.\nI can do commit message format template that can be used for validation and generation at same time.\nConventional-pr sv4git\nSame idea, simple yaml config. But lack of configuration options and no documentation.\nDesign draft linkUsage linkProject has .changes.yml/toml config file.\nValidation:\nchanges lint -last 10 for last 10 commits changes lint pr for PR new commits Result:\nINFO sdfdhfsald12 message bla bla bla ERROR sdfdhfsald12 message bla bla bla ERROR history message bla bla bla Where sdfdhfsald12 is commit sha.\nChange log generation:\nchanges log -last 10 changes log -pr Config linkMVP config - code\nr := runner.New() r.AddChecker(checkers.TotalChange{ MaxLines: 200, }) r.AddChecker(checkers.ProtectedFiles{ Paths: []string{\".golangci-lint\", \"git-checks.go\"}, }) result := r.Run() // result.PrintJson() result.Print() Yaml\nversion: \"0.1\" local_run_last_commits: 10 output_format: \"json\" checks: - name: \"branch_name\" format: \"^\\(fix|feature)\\*\" - name: \"total_change\" max-lines: 200 - name: \"protected_files\" paths: [ \".golangci-lint\", \"git-checks.go\" ] Package design linkhttps://go.dev/doc/modules/layout\nrunner - linter pipeline interface and implementation config - different configuration sources git - git abstraction using go-git checker - interface, checks DTO rule - batteries included chesks cmd/main.go - cli cmd Repository can be used as library.\nsequenceDiagram Runner -\u003e\u003e+ Config: Get onfig Config -\u003e\u003e Config: unmarshal Config -\u003e\u003e Config: validate Config --\u003e- Runner: checkers onfig Runner -\u003e\u003e+ Git: Get git diff Git -\u003e\u003e Git: Read git DB Git --\u003e- Runner: branch, commits, changes loop Every checker Runner -\u003e\u003e+ Checker: Run checks Checker -\u003e\u003e Checker: Do checks Checker --\u003e\u003e- Runner: logs end Runner -\u003e\u003e Out: Print logs Interfaces linkChecker is an interface which implements different lint rules.\nProgram:\nCollects a list of registered checks and their configuration Validates the configuration of each check (Validate()) Gets the history from Git For each commit, it runs CheckCommit checks and collects TotalChange.\ntype Logger interface { Debug(message string) Info(message string) Warning(message string) Error(message string) } type Checker interface { Type() CheckerType Validate() error CheckCommit(ctx CommitCheckerContext) CheckHistory(ctx HistoryCheckerContext) } type HistoryCheckerContext interface { Logger Branch() Branch Total() TotalChange } type Branch struct { Name string } type CommitCheckerContext interface { Logger Commit } type TotalChange struct { Commits uint Changes []FileChange } type Commit interface { Message() CommitMessage Changes() []FileChange } type CommitMessage struct { Title, Body, Footer string } type FileChange struct { Path string Add, Del int } type CheckerType struct { Name string // OnlyCI sets checker runnable only in CI environment // not runnable locally OnlyCI bool } First rules link PR changes max lines Commit changes max lines Commit format: max length and title regex Footer regex or footer words Conventional commits (check + changelog) Emoji ban, symbol set whitelist Rebase forcing "
            }
        );
    index.add(
            {
                id:  8 ,
                href: "\/changes\/docs\/adr\/23.11-docs\/",
                title: "23.11-docs",
                description: "Use cases link Landing/Motivation page Start using, tutorials Find checkers, settings and params variations Contribution guide and ADRs Structure draft link Landing page Main page (overview) How to Recommended configs Changelog Authors and dependencies settings/ checker 1 checker 2 contribution/ add new checker new functions (proposal format) ideas and feedbacks ADRs/ Tools and setup linkI very well known with Hugo and Geekdocs. But I found new beautiful doc theme - lotus.",
                content: "Use cases link Landing/Motivation page Start using, tutorials Find checkers, settings and params variations Contribution guide and ADRs Structure draft link Landing page Main page (overview) How to Recommended configs Changelog Authors and dependencies settings/ checker 1 checker 2 contribution/ add new checker new functions (proposal format) ideas and feedbacks ADRs/ Tools and setup linkI very well known with Hugo and Geekdocs. But I found new beautiful doc theme - lotus.\nI decided to place documentation files inside repository docs folder because:\nIt’s easier to automate Single change log generation DoD PR checks Projects is not a library. First priority - binary distribution. So .md files inside package is not large problem. ADR naming: yy-mm-name.md - it’s ok if few files inside month unordered. Lotus can order pages by weight, but it’s nice to have timeline of titles.\nI have idea to make doc pages for Go code, but it’s useless now. I’ll do it later.\nCI draft link Generate by hand (junk files) OR by CI (pages branch)? =\u003e default CI PR doc page preview generation? =\u003e maybe, later GH Pages or other =\u003e GH Pages, nikitarusin.com later go modules or theme files or git module =\u003e go module (simpler, no junk files) Main page linkThesises:\nGoal Status: In progress "
            }
        );
    index.add(
            {
                id:  9 ,
                href: "\/changes\/docs\/adr\/23.11-go-quality\/",
                title: "23.11-go-quality",
                description: "WHY link Force code readability Force test quality Force code docs Lint linkI had project with golangci-lint. So I’ll use config from it.\nTests link coverage by octocov mutation tests by gremlins Later linkArchitecture metrics like effrit",
                content: "WHY link Force code readability Force test quality Force code docs Lint linkI had project with golangci-lint. So I’ll use config from it.\nTests link coverage by octocov mutation tests by gremlins Later linkArchitecture metrics like effrit\n"
            }
        );
    index.add(
            {
                id:  10 ,
                href: "\/changes\/docs\/adr\/",
                title: "ADR",
                description: "Architecture decision records",
                content: ""
            }
        );
    index.add(
            {
                id:  11 ,
                href: "\/changes\/docs\/adr\/23.11-git-calls\/",
                title: "23.11-git-calls",
                description: "What linkProgram must get data from git repository:\nFiles diff Commit names and authors How link info git cli calls linkThis method is used by reviewdog\nPros:\nSimple execution Cons:\nRequire result parsing App depends on git cli check_circle go-git library linkThis method known to me. I used it in devex\nPros:\nCompile safety No dependency on external apps Allows parallel data fetching (speed) Cons:\nBinary size Rare dependency Package design link type Git interface { // Branches returns PR source and target branch Branches() (source, target string) // Commits returns PR commits Commits() []Commit // Changes returns PR repository files diff Changes() []FileChange } Few methods to create it:",
                content: "What linkProgram must get data from git repository:\nFiles diff Commit names and authors How link info git cli calls linkThis method is used by reviewdog\nPros:\nSimple execution Cons:\nRequire result parsing App depends on git cli check_circle go-git library linkThis method known to me. I used it in devex\nPros:\nCompile safety No dependency on external apps Allows parallel data fetching (speed) Cons:\nBinary size Rare dependency Package design link type Git interface { // Branches returns PR source and target branch Branches() (source, target string) // Commits returns PR commits Commits() []Commit // Changes returns PR repository files diff Changes() []FileChange } Few methods to create it:\nInitPR creates diff between current and target branch (like PR diff) InitLast creates diff for last N current branch commits info Why publicity and full abstraction from go-git:\nCurrent benefit for this project. Package can be used now for checks automation via go scripts. Current benefit for my work projects. Package can be used outside this project as library. Full DI control in other packages tests. "
            }
        );
    index.add(
            {
                id:  12 ,
                href: "\/changes\/docs\/adr\/23.12-format-template\/",
                title: "23.12-message-format",
                description: "Problem linkWe need some format how to describe commit message style in configuration. Because bare regex is too complex for that task.\nVariants link /^([\\w\\-\\.]+){1}(\\([\\w\\-\\.]+\\))?(!)?: (.+)/ # regex {{ type }}{{ (context)? }}: {{ title }} # mustache $type$(context)?$!?: $title # php [task]: [type] [title] # square (type)(\\(context\\))?(!)?: (title) # regex simplified (type)((context))?(!)?: (title) # regex simplified auto escape [type][(context)]?[!]?: [title] # regex simplified square check_circle regex simplified auto escape chosen linkIt seems like regex simplified square is most obvious.",
                content: "Problem linkWe need some format how to describe commit message style in configuration. Because bare regex is too complex for that task.\nVariants link /^([\\w\\-\\.]+){1}(\\([\\w\\-\\.]+\\))?(!)?: (.+)/ # regex {{ type }}{{ (context)? }}: {{ title }} # mustache $type$(context)?$!?: $title # php [task]: [type] [title] # square (type)(\\(context\\))?(!)?: (title) # regex simplified (type)((context))?(!)?: (title) # regex simplified auto escape [type][(context)]?[!]?: [title] # regex simplified square check_circle regex simplified auto escape chosen linkIt seems like regex simplified square is most obvious.\nBut there is not much difference with regex simplified auto escape and round brackets closer to well known reqex groups.\n"
            }
        );
    index.add(
            {
                id:  13 ,
                href: "\/changes\/docs\/adr\/23.12-check-code\/",
                title: "23.12-check-code",
                description: "info Based on init draft\nGoal linkTool intended to be used for complex checking like:\nFeature commit must contain new ADR file PR must contain changelog file change Only ‘docs’ commits can contain doc folder changes Only ‘bump’ commits can change package.json Only Nikita can edit CI files Commit message format is base linkCommit type and other information is useful for checkers. Because of that, commit messages should be parsed first.",
                content: " info Based on init draft\nGoal linkTool intended to be used for complex checking like:\nFeature commit must contain new ADR file PR must contain changelog file change Only ‘docs’ commits can contain doc folder changes Only ‘bump’ commits can change package.json Only Nikita can edit CI files Commit message format is base linkCommit type and other information is useful for checkers. Because of that, commit messages should be parsed first.\nflowchart parsing[Parse messages] context[Create check context] execute[Execute checkers] parsing --\u003e|type,title,task,footers| context context --\u003e|diff cache, commits, settings| execute raw[Raw commit] commit[Enriched commit] raw --\u003e|extract values| commit Checker context values linkThere is no profit from overcomplicated solution such as handlers + context.\nSolution - set of functions:\nValues validation settings parsing Text checking Subject parsing Footers parsing Body checking Commits list checking Diff checking Reporting linkWe need ability to provide additional error context and group output by this context.\n8213ff: some commit subject - incorrect formatting 8213ff: some other commit subject - wrong task format info Errors itself can't answer \"why there is no error\". I experimented with different types of logging + error interfaces. And decided to keep things simple.\nThere will be errors package:\nMultiple errors collection Path adding and grouping These two features allows to do any kind context error handling and reporting.\nAdditional logging:\nMain execution stages and steps Important variables Development plan link%%{init: { 'theme': 'dark' } }%% timeline Values : Values config Commit : Subject config : Subject validation Reporting : stdout : markdown %%{init: { 'theme': 'dark' } }%% timeline Commits : max and repeats validation : Footers config \u0026 validation Diff : Config : Validation Scripting : Congig : Validation Changelog : Config : Generation : Regeneration "
            }
        );
    index.add(
            {
                id:  14 ,
                href: "\/changes\/docs\/adr\/23.12-yaml-config\/",
                title: "23.12-config-file",
                description: "Motivation linkSimple json/yaml/toml configuration - key feature. That is more effective than the Danger.\nSee project goal here\nCheckers link PR changes max lines Commit changes max lines Commit format: max length and title regex Footer regex or footer words Conventional commits (check + changelog) Emoji ban, symbol set whitelist Rebase forcing commits: # max: 10 pr-limit: 10 # max commits per PR subject: # default - conventional commit format: \"(task) (context)?",
                content: "Motivation linkSimple json/yaml/toml configuration - key feature. That is more effective than the Danger.\nSee project goal here\nCheckers link PR changes max lines Commit changes max lines Commit format: max length and title regex Footer regex or footer words Conventional commits (check + changelog) Emoji ban, symbol set whitelist Rebase forcing commits: # max: 10 pr-limit: 10 # max commits per PR subject: # default - conventional commit format: \"(task) (context)?: (type) (title)\" types: [ feat, fix, chore, docs ] limits: title: 50 context: 5 unique: [title] # commits should not repeat this body: width-limit: 80 task-regex: ^abc-123 banned-words: - emoji - fixed -\u003e fix author: regex: (.+)@company.com diff: total-max: 2000 per-file-max: additions: 300 deletions: 1000 all: 1000 must-change: [ \"changelog.md\" ] protected-files: paths: [ \".golangci-lint\", \"git-checks.go\" ] allowed-authors: [ \"bibaboba@gmail.com\" ] Footers and task validation linkType of footers\nkey value ref: #123 value #123 footer: - key: task # task: #123 format: task required: true - format: task # #123 required: true - key: breaking_change # breaking_change: $break_description - key: see-also # \"see also: $task\" format: task - key: something-custom # something-custom: 123-blabla format: custom-custom # must be declared value - key: context format: context Values validation link values: type: - allowed: [ feat, fix, chore, docs ] title: - limit: 50 body: - limit: 500 width-limit: 80 context: - limit: 5 # optional - allowed: [ docs, some, other ] # optional task: - regex: ^abc-123 custom-custom: - regex: ^abc-123 allowed: [ feat, fix, chore, docs ] limit: 50 Pros of values separation:\nCan be used across all message text (subject, body, footers) Same structure Single place Simpler API for Lua in future because of single map of standard and custom values. Testing linkAbility to easily test your config is important.\nI like Danger, but its local testing with danger pr is not comfortable.\nLast commits testing linkchanges/git package already can give last 10 commits data. We can use that to run checks upon last N commits.\nSamples testing linkConfiguration can contain sample commits data and simplified expected output.\n# draft config-tests: commits: - message: \"test title\" alias: \"first\" author: \"rusinikit@gmail.com\" expects: - checker: \"title\" commits: [ \"first\" ] Good commits can be used as examples in CLI output for PR message.\nProblems with diff linkFiles diff checks is important too. But it’s complicated. Feature request required.\nChangelog generation link changelog: group-by: [context, type] # commit titles will be grouped # (version) and (title) will be replaced with params title-format: \"**(version)**: (title)\" # default - **(version)** version-tag-format: # how to create new tag starts-with: \"v\" type: number # semver, number, commit hash commit-message-format: \"docs(log): (version)\" # how to create new commit Diff regeneration linkProgram needs to find a previous version changelog title to replace lines on top of that. It will look for exact previous version tag symbols appeared in markdown header.\n## test1.2.3: Some title that will be replaced Some text that will be replaced. ## v1.2.3: Header that we are looking for Text that will not be replaced. "
            }
        );
    index.add(
            {
                id:  15 ,
                href: "\/changes\/docs\/adr\/24.01-scripting\/",
                title: "24.01-scripting",
                description: "Goal linkAbility to create custom rules inside yaml configuration with fast execution.\nVariants link Lua CEL WASM info Why not JavaScript, Lua, or WASM? linkJavaScript and Lua are rich languages that require sandboxing to execute safely. Sandboxing is costly and factors into the “what will I let users evaluate?” question heavily when the answer is anything more than O(n) complexity.\nCEL evaluates linearly with respect to the size of the expression and the input being evaluated when macros are disabled.",
                content: "Goal linkAbility to create custom rules inside yaml configuration with fast execution.\nVariants link Lua CEL WASM info Why not JavaScript, Lua, or WASM? linkJavaScript and Lua are rich languages that require sandboxing to execute safely. Sandboxing is costly and factors into the “what will I let users evaluate?” question heavily when the answer is anything more than O(n) complexity.\nCEL evaluates linearly with respect to the size of the expression and the input being evaluated when macros are disabled. The only functions beyond the built-ins that may be invoked are provided by the host environment. While extension functions may be more complex, this is a choice by the application embedding CEL.\nBut, why not WASM? WASM is an excellent choice for certain applications and is far superior to embedded JavaScript and Lua, but it does not have support for garbage collection and non-primitive object types require semi-expensive calls across modules. In most cases CEL will be faster and just as portable for its intended use case, though for node.js and web-based execution CEL too may offer a WASM evaluator with direct to WASM compilation.\nConcrete use case linkUser creates if rules for certain errors.\ncustom-rules: - message: \"files inside dir/ can't be modified, only deletion allowed\" if: \"diff.find(`^dir/.*$`).Additions \u003e 0\" - message: \"module `test_utils` can be imported only inside test files\" if: \"diff.contains(`test_utils`, addition)\" How to make useful reporting link info If without context link message: \"files inside dir/ can't be modified, only deletion allowed\" if: \"diff.find(`^dir/.*$`).Additions \u003e 0\" Easy to write BUT hard to find invalid commit or file info List return link message: \"files inside dir/ can't be modified, only deletion allowed\" find: \"testMap.filter(k, testMap[k].Integer \u003e 100).map(k, testMap[k].StringField)\" error: files inside dir/ can't be modified, only deletion allowed invalid objects: [ test-file-go, other-file.go ] Obvious which objects is invalid BUT additional map step required BUT it is not unified reporting format check_circle Get error contexts from return value type link No context (just message) - bool or unknown string return commit - filtered []Commit list return diff file - diff map keys string list or []FileDiff list return diff line (future feature) - like diff file but with :11,28 message: \"files inside dir/ can't be modified, only deletion allowed\" func: \"testMap.filter(k, testMap[k].Integer \u003e 100)\" Obvious which objects is invalid Unified reporting format cel-go problems linkIt possible to use native types by ext.NativeTypes(reflect.ValueOf(SomeStruct{})) But struct fields in TitleCamelCase.\nAll macros in lower case, so it is good to have lower case fields names.\nOptions:\nCreate patch to cel-go with customizable field reflection Copy and edit ext.NativeTypes Use protobuf generated structure Use type provider wrapper to rename field names check_circle A lot of experiments with CEL were made.\nCustom TypeProvider.FindStructFieldType is the best solution. It is simple and allows to use just Go structs and any case for field names (camel, snake and kebab)\nCustom values can be retrieved like this.\n\u0026types.FieldType{ Type: types.StringType, IsSet: func (target any) bool { return true }, GetFrom: func (target any) (any, error) { return target.(SomeStruct).Map[fieldName], nil }, } "
            }
        );
    index.add(
            {
                id:  16 ,
                href: "\/changes\/docs\/adr\/24.01-v1-dev-plan\/",
                title: "24.01-docs-and-v1",
                description: "Prototype is finished. Next goal is good marketing message and starting documentation.\n%%{init: { 'theme': 'dark' } }%% timeline Tools : Config variables renaming : Writing style and spell check Docs : Overview and config top view : Quick start : CI setup : Subject format : Scripting (values, types, functions) : Rules library : Code (Tools and Libs, Contribution, Authors) : Landing rework Changelog gen : All : Last version : Gen, set tag and commit Renaming link commit.",
                content: "Prototype is finished. Next goal is good marketing message and starting documentation.\n%%{init: { 'theme': 'dark' } }%% timeline Tools : Config variables renaming : Writing style and spell check Docs : Overview and config top view : Quick start : CI setup : Subject format : Scripting (values, types, functions) : Rules library : Code (Tools and Libs, Contribution, Authors) : Landing rework Changelog gen : All : Last version : Gen, set tag and commit Renaming link commit.format -\u003e commit.subject because footers and body checks will be added in the future. custom-rules -\u003e check-functions because of more sounding name Documentation linters linkDocs quality is important. But ARD contains spelling and grammar issues, because I’m lazy.\nVale is good text style checker with no external API calls. I can’t find alternative to it.\nI’ll add CI check for pages other than ADR and will check new ADRs locally. Later I’ll fix issues in past ADRs.\nDocumentation pages linkDocumentation is important for:\nUser experience Picture of serious approach to development Trust in project future All of this is part of decision-making process “can I use it?” or “can I trust it?”\nIn opposite to conventional-commit tools changes allows you to easily setup validation and changelog generation for an any commit format. Add your custom values and task/issue id regexp.\nDocs structure link Overview Quick start Local installation Minimal config Commands CI setup Usage Config Commit format Check functions Values Types Macros Methods Awesome configs Codebase Tools and libs Authors Contribution "
            }
        );
    index.add(
            {
                id:  17 ,
                href: "\/changes\/docs\/adr\/24.02-output-message\/",
                title: "24.02-output-message",
                description: "Context linkTool developed as alternative to Danger. Important to have ability to post message in Pull Request.\nOverview page has message about ugly output.\nOutput linkMarkdown link ## Commits - No more than 4 commits 9999999: bla bla - some error - some error 2141234: blabla bla - some error - some error ## Changes commit/value/get.go - some error - some error Terminal link Commits ------- - No more than 4 commits 9999999: bla bla - some error - some error 2141234: blabla bla - some error - some error Changes ------- .",
                content: "Context linkTool developed as alternative to Danger. Important to have ability to post message in Pull Request.\nOverview page has message about ugly output.\nOutput linkMarkdown link ## Commits - No more than 4 commits 9999999: bla bla - some error - some error 2141234: blabla bla - some error - some error ## Changes commit/value/get.go - some error - some error Terminal link Commits ------- - No more than 4 commits 9999999: bla bla - some error - some error 2141234: blabla bla - some error - some error Changes ------- ./commit/value/get.go:1:1 - some error - some error Log level vs all errors linkDanger has ability to post different types of messages: error, warning, and message.\nchanges check hasn’t, because check command main goal - finding mistakes. Other instruments or commands solve other cases.\nGroup by error vs group by object linkGroup by commit and file used because user wants to fix all issues in file or message at one time.\n:1:1 at the path end linkTools can recognize path output and replace it with link to open.\n"
            }
        );
    index.add(
            {
                id:  18 ,
                href: "\/changes\/docs\/",
                title: "Docs",
                description: "",
                content: ""
            }
        );
    search.addEventListener('input', show_results, true);

    function show_results(){
        const maxResult =  5 ;
        const minlength =  0 ;
        var searchQuery = sanitizeHTML(this.value);
        var results = index.search(searchQuery, {limit: maxResult, enrich: true});

        
        const flatResults = new Map(); 
        for (const result of results.flatMap(r => r.result)) {
        if (flatResults.has(result.doc.href)) continue;
        flatResults.set(result.doc.href, result.doc);
        }

        suggestions.innerHTML = "";
        suggestions.classList.remove('d-none');

        
        if (searchQuery.length < minlength) {
            const minCharMessage = document.createElement('div')
            minCharMessage.innerHTML = `Please type at least <strong>${minlength}</strong> characters`
            minCharMessage.classList.add("suggestion__no-results");
            suggestions.appendChild(minCharMessage);
            return;
        } else {
            
            if (flatResults.size === 0 && searchQuery) {
                const noResultsMessage = document.createElement('div')
                noResultsMessage.innerHTML = "No results for" + ` "<strong>${searchQuery}</strong>"`
                noResultsMessage.classList.add("suggestion__no-results");
                suggestions.appendChild(noResultsMessage);
                return;
            }
        }

        
        for(const [href, doc] of flatResults) {
            const entry = document.createElement('div');
            suggestions.appendChild(entry);

            const a = document.createElement('a');
            a.href = href;
            entry.appendChild(a);

            const title = document.createElement('span');
            title.textContent = doc.title;
            title.classList.add("suggestion__title");
            a.appendChild(title);

            const description = document.createElement('span');
            description.textContent = doc.description;
            description.classList.add("suggestion__description");
            a.appendChild(description);

            suggestions.appendChild(entry);

            if(suggestions.childElementCount == maxResult) break;
        }
    }
    }());
</script></body></html>